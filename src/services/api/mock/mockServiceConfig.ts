
import { ZYLALABS_API_KEY } from '../zylalabs/config';

/**
 * Флаг для принудительного использования демо-режима
 * независимо от состояния API
 */
export const useDemoModeForced = false; // Отключаем принудительное использование демо-данных

/**
 * Максимальное время ожидания ответа от API (в миллисекундах)
 * После истечения этого времени будет использоваться демо-режим
 */
export const API_TIMEOUT = 60000; // Увеличиваем таймаут до 60 секунд для лучшего ожидания API

/**
 * Функция для проверки необходимости использования демо-данных
 * @returns true, если нужно использовать демо-данные, false - в противном случае
 */
export const useMockData = (): boolean => {
  // Проверяем флаг принудительного использования демо-данных
  if (useDemoModeForced) {
    return true;
  }
  
  // Проверяем наличие API ключа
  const apiKey = localStorage.getItem(ZYLALABS_API_KEY);
  if (!apiKey) {
    return true; // Если API ключ не настроен, используем демо-данные
  }
  
  // По умолчанию пробуем использовать реальное API
  return false;
};
